$(function () { function e(e) { var t = e.getBoundingClientRect(); return t.top >= 0 && t.left >= 0 && t.bottom <= (window.innerHeight || document.documentElement.clientHeight) && t.right <= (window.innerWidth || document.documentElement.clientWidth) } $("#loading").hide(), $(".carousel-interval").carousel({ interval: 8e3 }), $(".trending_carousel").carousel({ interval: 0 }), $(".dropdown-toggle").click(function () { $(this).next(".dropdown-menu").slideToggle(100) }), $("#trendingTab a:first").tab("show"), $("div.thumbnailrightwrapper, div.thumbnailrightwrappergrid").hide(), $("#vgh_nav").affix({ offset: $("#vgh_nav").position() }), $("div#vgh_nav").hide(); var t = $("#database-list"); if (t.length > 0) { var n = $("#database-list").data("url"); if ("" != n) { var o = document.getElementById("database-list"); $(o).hide(), null != n && "" != n && $.post(n).done(function (e) { $(o).html(e), $(o).show("slow"), ProcessListData(e) }) } } var a = $("#database-details"); if (a.length > 0) { var n = $("#database-details").data("url"); if ("" != n) { var i = document.getElementById("database-details"); $(i).hide(), $.post(n).done(function (e) { $(i).html(e), $(i).fadeIn("slow"), ProcessDetailsData(e) }) } } $(".article_body, .article_body_small, .thumbnail, .thumbnail_small").on("mouseenter", function () { var e = $(this).data("rightbarid"), t = document.getElementById(e); null != t && $(t).fadeIn("slow") }), $(".article_body, .article_body_small,  .thumbnail, .thumbnail_small").on("mouseleave", function () { var e = $(this).data("rightbarid"), t = document.getElementById(e); null != t && t.childElementCount > 0 && $(t).fadeOut("slow") }), $(".trending-stories-first").each(function () { var e = $(this), t = $(this).data("url"); $.post(t).done(function (t) { e.html(t), $(e).fadeIn("slow").delay(250), $(e).promise().done(function () { ProcessTrendingData(e) }) }) }), $(".Trending_Tab").on("click", function () { if (!$(this).hasClass("active")) { var e = $(this), t = $(e).data("trendingsectionid"), n = document.getElementById(t); $(n).empty(); var o = $(e).data("url"); $.post(o).done(function (e) { $(n).html(e), $(n).fadeIn("slow").delay(500), $(n).promise().done(function () { ProcessTrendingData(n) }) }) } }), $(".LatestInfoSection").each(function () { var e = $(this), t = $(this).data("url"), n = $(this).data("loadingid"), o = document.getElementById(n); $(o).show(), $.ajax({ type: "POST", url: t, data: "", success: function (t) { $(o).hide(), e.html(t), e.fadeIn("slow"), ProcessData(e) } }) }), $(".thumbnailrightwrapper").on("click", function () { $(this).attr("disabled", "disabled"); var e = $(this), t = $(this).data("mainid"), n = document.getElementById(t), o = $(this).data("loadingid"), a = document.getElementById(o); if (n.childElementCount <= 1) { $(a).show(); var i = $(this).data("url"); $.post(i).done(function (t) { $(a).hide(), $(n).html(t), $(n).fadeIn("slow"); var o = $(e).find("span.glyphicon-chevron-right"); null != $(o) && $(o).addClass("glyphicon-white"), ProcessData(n) }) } else { var s = $(e).find("span.glyphicon-chevron-right"); null != $(s) && ($(s).hasClass("glyphicon-white") ? ($(s).removeClass("glyphicon-white"), $(n).hide("slow")) : ($(s).addClass("glyphicon-white"), $(n).show("slow"))) } $(this).removeAttr("disabled") }), $(".thumbnailrightwrappergrid").on("click", function () { $(this).attr("disabled", "disabled"); var e = $(this), t = $(this).data("contentid"), n = document.getElementById(t), o = $(this).data("mainid"), a = document.getElementById(o), i = $(this).data("loadingid"), s = document.getElementById(i), r = $(this).data("classwrapper"), l = document.getElementById(r); if ($(n).hide(), a.childElementCount <= 1) { $(s).show(); var d = $(this).data("url"); $.post(d).done(function (t) { $(s).hide(), $(a).html(t), $(a).fadeIn("slow"); var n = $(e).find("span.glyphicon-chevron-left"); null != $(n) && $(n).addClass("glyphicon-white"), null != l && ($(l).addClass("no-before"), $(l).removeClass("gradient")), ProcessData(a) }) } else { var c = $(e).find("span.glyphicon-chevron-left"); null != $(c) && ($(c).hasClass("glyphicon-white") ? ($(c).removeClass("glyphicon-white"), $(a).hide("slide", { direction: "right" }, 350), $(a).promise().done(function () { $(n).fadeIn("slow") }), null != l && ($(l).removeClass("no-before"), $(l).addClass("gradient"))) : ($(c).addClass("glyphicon-white"), $(n).hide(), null != l && ($(l).addClass("no-before"), $(l).removeClass("gradient")), $(a).show("slide", { direction: "right" }, 350))) } $(this).removeAttr("disabled") }), $(".toolbox").on("load", function () { $(this).hasOverflow() && $(this).addClass("toolbox_hide") }), $("a.database-button").on("click", function () { $("a.database-button").each(function () { $(this).hasClass("active") && $(this).removeClass("active") }), $(this).addClass("active"); var e = $(this).data("url"), t = document.getElementById("database-list"); $(t).hide(), $.post(e).done(function (e) { $(t).html(e), $(t).show("slow"), ProcessListData(e) }) }), $("#searchdatabaseform").submit(function () { var e = $("#searchdatabaseform").formSerialize(), t = $(this).data("url"), n = document.getElementById("database-list"); return $(n).hide(), $.post(t, e).done(function (e) { $(n).html(e), $(n).show("slow"), ProcessListData(e) }), !1 }), $("header#vgh_master_header").on("mouseover", function () { var t = document.getElementById("vgh_scroll_nav"); 0 == e(t) && $("#vgh_nav").fadeIn("fast") }), $("header#vgh_master_header").on("mouseleave", function () { $("#vgh_nav").is(":visible") && $("#vgh_nav").fadeOut("fast") }), $(".nav-pills > li.trending-pills").on("click", function (e) { if (e.preventDefault(), !$(this).hasClass("active")) { var t = $(this); $(this).siblings().each(function () { $(this).hasClass("active") && $(this).removeClass("active") }), $(this).addClass("active"); var n = $(this).data("carouselindex"), o = $(this).data("carouselid"), a = document.getElementById(o); $(a).carousel(n), $(a).promise().done(function () { var e = $(t).data("trendingsectionid"), n = document.getElementById(e), o = $(t).data("url"); $(n).fadeOut("slow"), $(n).promise().done(function () { $.post(o).done(function (e) { $(n).html(e), $(n).fadeIn("slow").delay(250), $(n).promise().done(function () { ProcessTrendingData(n) }) }) }) }) } }), $(".poll_button").on("click", function () { var e = $(this).data("url"), t = $(this).data("fieldid"), n = document.getElementById(t), o = $(this).data("radiodivid"), a = document.getElementById(o), i = $(this).data("chartid"), s = document.getElementById(i), r = null, l = i + "_sub"; $(n).find("input").each(function () { $(this).is(":checked") && (r = $(this).val()) }), null != r && (e += "&PollVal=" + r, $.getJSON(e, function (e) { $(a).fadeOut("slow"), $(a).promise().done(function () { var t, n = 0; for (id in e) { var o = e[id]; isNaN(o.NumVotes) || (n += parseInt(o.NumVotes)) } var a = "<div class='poll-results' id='" + l + "'><dl class='graph'>\n"; for (id in e) { var o = e[id]; if (!isNaN(o.NumVotes)) { var i = o.Id; t = Math.round(100 * (parseInt(o.NumVotes) / parseInt(n))), a += i != r ? "<dt class='bar-title'>" + o.Title + "</dt><dd class='bar-container'><div id='bar" + o.Id + "'style='width:0%;'>&nbsp;</div><strong>" + t + "%</strong></dd>\n" : "<dt class='bar-title'><strong>" + o.Title + "</strong></dt><dd class='bar-container'><div id='bar" + o.Id + "'style='width:0%;background-color:#0066cc;'>&nbsp;</div><strong>" + t + "%</strong></dd>\n" } } a = a + '</dl></div><div style="width:200px; text-align=center; margin-left:50px"><span>Total Votes: ' + n + "</span></div>\n", $(s).append(a).fadeIn("slow", function () { $("#" + l + " div").each(function () { var e = $(this).next().text(); $(this).css({ width: "0%" }).animate({ width: e }, "slow") }) }) }) })) }), $(".info_options a").on("click", function () { $("#info_actions").hide(), $("#loading").fadeIn("slow") }) });